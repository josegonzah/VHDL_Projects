	.ORIG x0000
	LD R0,A
	LD R1,B
	LD R2,DIR_A
	LD R3,DIR_B
	STR R0,R2,#0
	STR R1,R3,#0
LOOP	LDI R4,ESTADO
	BRZP LOOP
	LDI R0,DATO
	ADD R0,R6,R0
TERMINO	JSR OUT_CHAR 
	LD R6,ASCII
	AND R0,R0,#0
	BR TERMINO;Hay que crear la funcion para halt 
ASCII	.FILL x30	
A	.FILL #3
B	.FILL #3
DIR_A	.FILL xFE08
DIR_B	.FILL xFE09
ESTADO	.FILL xFE07
DATO	.FILL xFE0A
 
OUT_CHAR	ST R0,PCR0 	;se almacena el caracter
OUT_CHAR2	LDI R0,DSR	;R0=dato no direccion
		BRZP OUT_CHAR2
		LD R0,PCR0
		STI R0,DDR
		JMP R7		;RET 
CHAR		.FILL #77	;SOLO PARA LA PRUEBA 
PCR0		.FILL 0
DSR		.FILL XFE04
DDR		.FILL XFE06
.END

